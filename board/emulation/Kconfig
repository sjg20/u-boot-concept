# SPDX-License-Identifier: GPL-2.0+
#
# Copyright (C) 2015, Bin Meng <bmeng.cn@gmail.com>

if ARCH_QEMU_ARM

config SYS_VENDOR
	default "emulation"

choice
	prompt "QEMU ARM architecture"
	default TARGET_QEMU_ARM_64BIT

config TARGET_QEMU_ARM_32BIT
	bool "ARMv7-A, 32bit"
	select ARCH_SUPPORT_PSCI
	select BOARD_LATE_INIT
	select CPU_V7A
	select SYS_ARCH_TIMER

config TARGET_QEMU_ARM_32BIT_SPL
	bool "ARMv7-A, 32bit with SPL"
	select ARCH_SUPPORT_PSCI
	select BOARD_LATE_INIT
	select CPU_V7A
	select SYS_ARCH_TIMER
	select SPL
	select BINMAN

config TARGET_QEMU_ARM_64BIT
	bool "ARMv8, 64bit"
	select ARM64
	select BOARD_LATE_INIT

config TARGET_QEMU_ARM_SBSA
	bool "SBSA Reference"
	select ARM64
	select BINMAN
	select BOARD_LATE_INIT
	select ENABLE_ARM_SOC_BOOT0_HOOK
	select MISC_INIT_R

config TARGET_QEMU_ARM_64BIT_SPL
	bool "ARMv8, 64bit with SPL"
	select ARM64
	select BOARD_LATE_INIT
	select SPL
	select BINMAN

endchoice

if TARGET_QEMU_ARM_32BIT || TARGET_QEMU_ARM_64BIT || \
	TARGET_QEMU_ARM_32BIT_SPL || TARGET_QEMU_ARM_64BIT_SPL

config SYS_BOARD
	default "qemu-arm"

config SYS_CONFIG_NAME
	default "qemu-arm"

endif

if TARGET_QEMU_ARM_SBSA

config SYS_BOARD
	default "qemu-sbsa"

config SYS_CONFIG_NAME
	default "qemu-sbsa"

config SYS_SOC
	default "qemu-sbsa"

endif

source "board/emulation/qemu-arm/Kconfig"
source "board/emulation/qemu-sbsa/Kconfig"

endif  # ARCH_QEMU_ARM


if ARCH_QEMU_X86

choice
	prompt "Mainboard model"

config TARGET_QEMU_X86
	bool "QEMU x86"
	help
	  This is the QEMU emulated x86 board. U-Boot supports running
	  as a coreboot payload as well as bare boot without coreboot.
	  There are two types of x86 boards supported by QEMU which are
	  supported by U-Boot. They are via QEMU '-M pc', an i440FX/PIIX
	  chipset platform and '-M q35', a Q35/ICH9 chipset platform.

config TARGET_QEMU_X86_64
	bool "QEMU x86 64-bit"
	help
	  This is the QEMU emulated x86 64-bit board. With this config
	  U-Boot is built as a 64-bit binary. This allows testing while
	  this feature is being completed.

endchoice

source "board/emulation/qemu-x86/Kconfig"

endif  # ARCH_QEMU_X86
